; ############  DIRECTOR AND EVENT CHANGES  ###########
; =====================================================
; ==          DIRECTOR & EVENT MODIFICATION          ==
; ==       Modify director behaviour and events      ==
; =====================================================
; --- Open up an area before kiddyland
; --- Remove the fence at the ramp leading to kiddyland
filter:
; --- Clipbrush
{
	"hammerid" "3171799"
}
; --- Fence props
{
	"hammerid" "130846"
}
{
	"hammerid" "130957"
}
; --- Nav blocker
{
	"hammerid" "3747548"
}
; --- EXPLOITS
add:
; --- Block survivors from getting on the game buildings
{
	"classname" "env_physics_blocker"
	"origin" "1472 0 444"
	"mins" "-194 -162 -324"
	"maxs" "194 162 324"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "1472 640 444"
	"mins" "-162 -194 -324"
	"maxs" "162 194 324"
	"initialstate" "1"
	"BlockType" "1"
}
; --- PROPS
add:
; --- Add an additional vent on the rides building, in line with the vent added by TLS
{
	"classname" "prop_dynamic"
	"origin" "923 900 222"
	"angles" "0 0 0"
	"model" "models/props_rooftop/acvent03.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- Fix the placement of the plastic table and chairs
modify:
{
	match:
	{
		"hammerid" "316299"
	}
	replace:
	{
		"origin" "960 896.638 2"
	}
}
{
	match:
	{
		"hammerid" "316303"
	}
	replace:
	{
		"origin" "964.183 952 2"
	}
}
{
	match:
	{
		"hammerid" "316307"
	}
	replace:
	{
		"origin" "985.459 865.531 2"
	}
}
; --- ITEMS
add:
; --- Add pistol/deagle and melee spawns to new area
{
	"classname" "weapon_spawn"
	"origin" "1686 -278 33"
	"angles" "0 259.5 -90"
	"weapon_selection" "any_pistol"
	"spawn_without_director" "1"
	"solid" "6"
	"disableshadows" "1"
	"spawnflags" "2"
	"count" "5"
}
{
	"classname" "weapon_melee_spawn"
	"origin" "1208 296 32"
	"angles" "0 60 -90"
	"melee_weapon" "any"
	"spawn_without_director" "1"
	"solid" "0"
	"disableshadows" "1"
	"spawnflags" "2"
	"count" "1"
}
; --- Add a potential pill spawn on one of the game buildings
{
	"classname" "weapon_pain_pills_spawn"
	"origin" "1341 -74 42"
	"angles" "0 0 0"
}

; =====================================================
; --- Opens a room by the carousel for survivors
; --- Remove board and clip to open room
filter:
{
	"hammerid" "594318"
}
{	
	"hammerid" "594332"
}
{
	"hammerid" "594442"
}
{
	"targetname" "courtyard_bldg2_clip"
}
{
	"targetname" "courtyard_bldg2_blocker"
}
{
	"targetname" "courtyard_bldg2_tankwall"
}
; --- escada para retorno a area elevada no carrocel
add:
{
	"solid" "0"
	"origin" "-3158 -4361 -48"
	"angles" "0 359 0"
	"model"	 "models/props/cs_office/ladder1.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
}
{
	"classname" "func_simpleladder"
	"origin" "-7446 -1154 -44"
	"angles" "0 90 0"
	"model" "*62"
	"normal.x" "0.00"
	"normal.y" "-1.00"
	"normal.z" "0.00"
	"team" "0"
}
modify:
{
	match:
	{
		;"model" "*66"
		"hammerid" "367856"
	}
	replace:
	{
		"team" "0"
	}
}
add:
{
	"solid" "0"
	"origin" "-2420 -3966 -44"
	"angles" "-10 0 0"
	"model"	 "models/props/de_train/ladderaluminium.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
}
modify:
{
	match:
	{
		;"model" "*64"
		"hammerid" "367852"
	}
	replace:
	{
		"team" "0"
	}
}
add:
{
	"solid" "0"
	"origin" "-2061 -3966 -44"
	"angles" "-10 180 0"
	"model"	 "models/props/de_train/ladderaluminium.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
}
; --- Ladder to climb up to platform
add:
{
	"classname" "func_simpleladder"
	"origin" "-6200 -2433 -44"
	"angles" "0 90 0"
	"model" "*63"
	"normal.x" "0.00"
	"normal.y" "-1.00"
	"normal.z" "0.00"
	"team" "0"
}
add:
{
	"solid" "0"
	"origin" "-1854 -4481 -48"
	"angles" "0 0 0"
	"model"	 "models/props/cs_office/ladder1.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
}
; --- Lighting
{
	"classname" "prop_dynamic"
	"origin" "-1664 -4032 172"
	"angles" "0 90 0"
	"model" "models/props_lighting/light_shop.mdl"
	"solid" "0"
	"disableshadows" "1"
}
{
	"classname" "light_dynamic"
	"origin" "-1664 -4032 146"
	"angles" "0 0 0"
	"_cone" "0"
	"_inner_cone" "0"
	"style" "0"
	"_light" "238 207 162 10"
	"brightness" "0.4"
	"distance" "450"
	"spawnflags" "0"
	"targetname" "carouselroom_lights"
}
{
	"classname" "prop_dynamic"
	"origin" "-1344 -4032 172"
	"angles" "0 90 0"
	"model" "models/props_lighting/light_shop.mdl"
	"solid" "0"
	"disableshadows" "1"
}
{
	"classname" "light_dynamic"
	"origin" "-1344 -4032 146"
	"angles" "0 0 0"
	"_cone" "0"
	"_inner_cone" "0"
	"style" "0"
	"_light" "238 207 162 10"
	"brightness" "0.4"
	"distance" "450"
	"spawnflags" "0"
	"targetname" "carouselroom_lights"
}
; --- luz da sala grande
{
	"solid" "0"
	"origin" "-2777 -3849 169"
	"angles" "0 0 0"
	"model"	 "models/props/cs_assault/light_shop2.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
}
{
	"classname" "light_dynamic"
	"origin" "-2777 -3849 146"
	"angles" "0 0 0"
	"_cone" "0"
	"_inner_cone" "0"
	"style" "0"
	"_light" "238 207 162 10"
	"brightness" "0.4"
	"distance" "450"
	"spawnflags" "0"
	"targetname" "carouselroom_lights"
}
{
	"solid" "0"
	"origin" "-2988 -3848 169"
	"angles" "0 0 0"
	"model"	 "models/props/cs_assault/light_shop2.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"

}
{
	"classname" "light_dynamic"
	"origin" "-2988 -3848 146"
	"angles" "0 0 0"
	"_cone" "0"
	"_inner_cone" "0"
	"style" "0"
	"_light" "238 207 162 10"
	"brightness" "0.4"
	"distance" "450"
	"spawnflags" "0"
	"targetname" "carouselroom_lights"
}
; --- Trigger to turn lights on
{
	"classname" "logic_auto"
	"OnMapSpawn" "carouselroom_lights_trigger,AddOutput,mins -64 -16 -72,0,-1"
	"OnMapSpawn" "carouselroom_lights_trigger,AddOutput,maxs 64 16 72,0,-1"
	"OnMapSpawn" "carouselroom_lights_trigger,AddOutput,boxmins -64 -16 -72,0,-1"
	"OnMapSpawn" "carouselroom_lights_trigger,AddOutput,boxmaxs 64 16 72,0,-1"
	"OnMapSpawn" "carouselroom_lights_trigger,AddOutput,solid 2,0,-1"
	"OnMapSpawn" "carouselroom_lights,TurnOff,,0,-1"
}
{
	"classname" "trigger_once"
	"origin" "-2496 -3600 104"
	"targetname" "carouselroom_lights_trigger"
	"filtername" "survivor_filter"
	"spawnflags" "1"
	"OnTrigger" "carouselroom_lights,TurnOn,,0,-1"
}

; =====================================================
; --- evento scavenger carrocel
add:
{
	"classname" "logic_auto"
		; --- gatilho do evento
	"OnMapSpawn" "carrocel_gas_trigger,AddOutput,mins -64 -16 -72,0,-1"
	"OnMapSpawn" "carrocel_gas_trigger,AddOutput,maxs 64 16 72,0,-1"
	"OnMapSpawn" "carrocel_gas_trigger,AddOutput,boxmins -64 -16 -72,0,-1"
	"OnMapSpawn" "carrocel_gas_trigger,AddOutput,boxmaxs 64 16 72,0,-1"
	"OnMapSpawn" "carrocel_gas_trigger,AddOutput,solid 2,0,-1"
		; --- desligar painel do carrocel
	"OnMapSpawn" "carousel_gate_button,Lock,,0,-1"
	"OnMapSpawn" "carousel_gate_button_model,StopGlowing,,0,-1"
	"OnMapSpawn" "visual_area,Disable,,0,-1"
		; --- remover brilho dos gal√µes
	"OnMapSpawn" "gas_prop,TurnGlowsOff,,0,-1"
}
{
	"classname" "trigger_once"
	"origin" "-2496 -3600 104"
	"targetname" "carrocel_gas_trigger"
	"filtername" "survivor_filter"
	"spawnflags" "1"
	"OnTrigger" "carrocel_gas_start,Trigger,,0,-1"
	"OnTrigger" "!Rochelle,speakresponseconcept,_c4m1Intro10,0,-1"
	;msg
	"OnTrigger" "button_gas_message,GenerateGameEvent,,0,-1"
			
}
{
	"classname" "logic_relay"
	"targetname" "carrocel_gas_start"
	"spawnflags" "1"
	"OnTrigger" "gas_hud,TurnOn,,0,-1"
	"OnTrigger" "gas_generator_prop,startglowing,,0,-1"
	"OnTrigger" "gas_prop,TurnGlowsOn,,0,-1"
}
{
	"classname" "game_scavenge_progress_display"
	"targetname" "gas_hud"
	"max" "6"
}
{
	"classname" "math_counter"
	"max" "6"
	"targetname" "gas_counter"
		; --- ativar evento carrosel
	;"OnHitMax" "carousel_gate_button,Unlock,,0,-1"
	"OnHitMax" "carousel_gate_button_model,StartGlowing,,0,-1"
	"OnHitMax" "!Rochelle,speakresponseconcept,PlayerMoveOn,0,-1"

		; --- inicia o gerador
	"OnHitMax" "gas_generator_smoke,Start,,2,-1"
	"OnHitMax" "gas_generator_sound,PlaySound,,0,-1"
		; --- desativa evento gas
	"OnHitMax" "gas_generator_prop,StopGlowing,,0,-1"
	"OnHitMax" "gas_hud,TurnOff,,0,-1"
	"OnHitMax" "gas_prop,TurnGlowsOff,,0,-1"
	"OnHitMax" "!self,Kill,,0,-1"
		; --- gatilho de proximidade do botao
	"OnHitMax" "carousel_area_unlock_button,AddOutput,mins -1100 -600 -0,0,-1"
	"OnHitMax" "carousel_area_unlock_button,AddOutput,maxs 0 0 100,0,-1"
	"OnHitMax" "carousel_area_unlock_button,AddOutput,boxmins -1100 -600 -0,0,-1"
	"OnHitMax" "carousel_area_unlock_button,AddOutput,boxmaxs 0 0 100,0,-1"
	"OnHitMax" "carousel_area_unlock_button,AddOutput,solid 2,0,-1"
	"OnHitMax" "visual_area,Enable,,0,-1"
		; --- msg
	"OnHitMax" "button_gas_message,Kill,,0,-1"
}
; --- ativar horda
{
	"classname" "math_counter"
	"max" "1"
	"targetname" "gas_counter"
	"OnHitMax" "@director,ForcePanicEvent,,2,-1"
	"OnHitMax" "!self,Kill,,0,-1"
}
; --- remover brilho do painel do carrocel
modify:
{	
	match:
	{
		"hammerid" "847627"
	}S
	delete:
	{
		"glow" "carousel_gate_button_model"
	}
}
; --- remover brilho do suporte da alavanca final
filter:
{
	"hammerid" "925828"
}
{
	"hammerid" "925852"
}
; --- desligar gerador ao puxar a alavanca final
modify:
{
	match:
	{
		"hammerid" "813894"
	}
	insert:
	{
		"OnPressed" "gas_generator_sound,FadeOut,2,2,-1"
		"OnPressed" "gas_generator_smoke,Stop,,2,-1"

	}
}
; --- sons 
add:
{	
	"classname" "ambient_generic"
	"health" "10"
	"message" "dlc.Generator_start_run_loop"
	"pitch" "100"
	"pitchstart" "100"
	"radius" "500"
	"spawnflags" "16"
	"targetname" "gas_generator_sound"
	"SourceEntityName" "gas_generator_prop"
}
; --- filtro sobrevivente
{
	"targetname" "survivor_filter"
	"classname" "filter_activator_team"
	"filterteam" "2"
	"Negated" "0"
}
; --- alvo gas
{
	"classname" "point_prop_use_target"
	"nozzle" "gas_generator_prop"
	"origin" "-2918 -5382 -95"
	"spawnflags" "1"
	"targetname" "gas_target"
	"OnUseFinished" "gas_counter,Add,1,0,-1"
}
; --- particulas
{
	"origin" "-2943 -5383 -66"
	"targetname" "gas_generator_smoke"
	"start_active" "0"
	"effect_name" "generator_smoke"
	"classname" "info_particle_system"
}
; --- props relay
{
	"solid" "6"
	"origin" "-2943 -5402 -128"
	"angles" "0 90 0"
	"model"	 "models/lighthouse/diesel_pump.mdl"
	"classname"	"prop_dynamic"
	"targetname" "gas_generator_prop"
	"disableshadows" "1"
	"glowcolor" "255 128 0"
	"glowstate" "0"
	"glowrange" "3000"
}
{
	"solid" "0"
	"origin" "-2918 -5382 -95"
	"angles" "0 448 90"
	"model"	 "models/props_rooftop/gutter_pipe_elbows_back.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
}
{
	"solid" "0"
	"origin" "-2890 -5378 -161"
	"angles" "0 -90 -30"
	"model"	 "models/props_vehicles/radio_generator_fillup.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"

}
; --- props cenario
{
	"solid" "0"
	"origin" "-2905 -5439 -128"
	"angles" "0 -90 0"
	"model"	 "models/props_mill/mill_railing_64.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
}
{
	"solid" "0"
	"origin" "-2938 -5348 -128"
	"angles" "0 0 0"
	"model"	 "models/props_mill/mill_railing_64.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
}
{
	"solid" "6"
	"origin" "-2972 -5469 -130"
	"angles" "90 -90 0"
	"model"	 "models/props_update/concrete_128.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
}
; --- gal√µes
{
	"solid" "6"
	"classname" "weapon_scavenge_item_spawn"
	"targetname" "gas_prop"
	"origin" "-784 -5186 -127"
	"angles" "0 0 0"
	"spawnflags"	"2"
	"disableshadows" "1"
}
{
	"solid" "6"
	"classname" "weapon_scavenge_item_spawn"
	"targetname" "gas_prop"
	"origin" "-2543 -3856 -124"
	"angles" "0 0 0"
	"spawnflags"	"2"
	"disableshadows" "1"
}
{
	"solid" "6"
	"classname" "weapon_scavenge_item_spawn"
	"targetname" "gas_prop"
	"origin" "-4327 -4591 -127"
	"angles" "0 45 0"
	"spawnflags"	"2"
	"disableshadows" "1"
}
{
	"solid" "6"
	"classname" "weapon_scavenge_item_spawn"
	"targetname" "gas_prop"
	"origin" "-4063 -3980 -127"
	"angles" "0 0 0"
	"spawnflags"	"2"
	"disableshadows" "1"
}
{
	"solid" "6"
	"classname" "weapon_scavenge_item_spawn"
	"targetname" "gas_prop"
	"origin" "-1168 -3856 32"
	"angles" "0 135 0"
	"spawnflags"	"2"
	"disableshadows" "1"
}
{
	"solid" "6"
	"classname" "weapon_scavenge_item_spawn"
	"targetname" "gas_prop"
	"origin" "-2179 -3815 32"
	"angles" "0 45 0"
	"spawnflags"	"2"
	"disableshadows" "1"
}

; --- area de ativa√ß√£o do botao do carrocel
add:
{
	"classname" "trigger_multiple"
	"entireteam" "2"
        "spawnflags" "1"
	"origin" "-2396 -4864 -127"
	"targetname" "carousel_area_unlock_button"
	"OnEntireTeamStartTouch" "carousel_gate_button,Unlock,,0,-1"
	"OnEntireTeamEndTouch" "carousel_gate_button,Lock,,0,-1"
}
; --- mensagem
{
	"targetname" "area_unlock_message"
	"spawnflags" "0"
	"event_name" "waiting_checkpoint_button_used"
	"classname" "info_game_event_proxy"
}
{
	"targetname" "button_gas_message"
	"spawnflags" "0"
	"event_name" "explain_c6m3_finale"
	"classname" "info_game_event_proxy"
	"origin" "-2943 -5402 -128"
}
; --- comando da mensagem
modify:
{
	match:
	{
		"hammerid" "847627"
	}
	insert:
	{
		"OnUseLocked" "area_unlock_message,GenerateGameEvent,,0,-1"
		"OnPressed" "visual_area,kill,,0,-1"
	}
}
add:
; --- props da area de ativa√ß√£o do carrocel
{
	"solid" "0"
	"origin" "-2420 -4865 -128"
	"angles" "0 0 0"
	"model"	 "models/props_collectables/striped_barricade.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
	"targetname" "visual_area"
}
{
	"solid" "0"
	"origin" "-2475 -4865 -128"
	"angles" "0 0 0"
	"model"	 "models/props_collectables/striped_barricade.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
	"targetname" "visual_area"
}
{
	"solid" "0"
	"origin" "-2530 -4865 -128"
	"angles" "0 0 0"
	"model"	 "models/props_collectables/striped_barricade.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
	"targetname" "visual_area"
}
{
	"solid" "0"
	"origin" "-2585 -4865 -128"
	"angles" "0 0 0"
	"model"	 "models/props_collectables/striped_barricade.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
	"targetname" "visual_area"
}
{
	"solid" "0"
	"origin" "-2640 -4865 -128"
	"angles" "0 0 0"
	"model"	 "models/props_collectables/striped_barricade.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
	"targetname" "visual_area"
}
{
	"solid" "0"
	"origin" "-2695 -4865 -128"
	"angles" "0 0 0"
	"model"	 "models/props_collectables/striped_barricade.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
	"targetname" "visual_area"
}
{
	"solid" "0"
	"origin" "-2750 -4865 -128"
	"angles" "0 0 0"
	"model"	 "models/props_collectables/striped_barricade.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
	"targetname" "visual_area"
}
{
	"solid" "0"
	"origin" "-2805 -4865 -128"
	"angles" "0 0 0"
	"model"	 "models/props_collectables/striped_barricade.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
	"targetname" "visual_area"
}
{
	"solid" "0"
	"origin" "-2860 -4865 -128"
	"angles" "0 0 0"
	"model"	 "models/props_collectables/striped_barricade.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
	"targetname" "visual_area"
}
{
	"solid" "0"
	"origin" "-2915 -4865 -128"
	"angles" "0 0 0"
	"model"	 "models/props_collectables/striped_barricade.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
	"targetname" "visual_area"
}
{
	"solid" "0"
	"origin" "-2970 -4865 -128"
	"angles" "0 0 0"
	"model"	 "models/props_collectables/striped_barricade.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
	"targetname" "visual_area"
}
{
	"solid" "0"
	"origin" "-3025 -4865 -128"
	"angles" "0 0 0"
	"model"	 "models/props_collectables/striped_barricade.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
	"targetname" "visual_area"
}
{
	"solid" "0"
	"origin" "-3080 -4865 -128"
	"angles" "0 0 0"
	"model"	 "models/props_collectables/striped_barricade.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
	"targetname" "visual_area"
}
{
	"solid" "0"
	"origin" "-3135 -4865 -128"
	"angles" "0 0 0"
	"model"	 "models/props_collectables/striped_barricade.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
	"targetname" "visual_area"
}
{
	"solid" "0"
	"origin" "-3190 -4865 -128"
	"angles" "0 0 0"
	"model"	 "models/props_collectables/striped_barricade.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
	"targetname" "visual_area"
}
{
	"solid" "0"
	"origin" "-3245 -4865 -128"
	"angles" "0 0 0"
	"model"	 "models/props_collectables/striped_barricade.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
	"targetname" "visual_area"
}
{
	"solid" "0"
	"origin" "-3300 -4865 -128"
	"angles" "0 0 0"
	"model"	 "models/props_collectables/striped_barricade.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
	"targetname" "visual_area"
}
{
	"solid" "0"
	"origin" "-3355 -4865 -128"
	"angles" "0 0 0"
	"model"	 "models/props_collectables/striped_barricade.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
	"targetname" "visual_area"
}
{
	"solid" "0"
	"origin" "-3410 -4865 -128"
	"angles" "0 0 0"
	"model"	 "models/props_collectables/striped_barricade.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
	"targetname" "visual_area"
}
{
	"solid" "0"
	"origin" "-3465 -4865 -128"
	"angles" "0 0 0"
	"model"	 "models/props_collectables/striped_barricade.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
	"targetname" "visual_area"
}

; =====================================================
; --- Props from reworked c2m3 saferoom
add:
; --- Tunnel of Love heart
{
	"classname" "prop_dynamic"
	"origin" "-4639 -5504 68"
	"angles" "0 0 0"
	"model" "models/props_fairgrounds/tol_tunnel_heart.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-4640 -5504 -128"
	"angles" "0 180 -180"
	"model" "models/props_fairgrounds/tol_tunnel_heart.mdl"
	"solid" "6"
	"disableshadows" "1"
	"lightingorigin" "tol_heart_lighting"
}
; --- Fix lighting origin
{
	"classname" "info_target"
	"origin" "-4639 -5504 68"
	"targetname" "tol_heart_lighting"
}
; --- Swan
{
	"classname" "prop_dynamic"
	"origin" "-5086 -5506 -11"
	"angles" "79 0 0"
	"model" "models/props_fairgrounds/swan_boat.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- Fences
{
	"classname" "prop_dynamic"
	"origin" "-4494 -5617 -64"
	"angles" "0 90 0"
	"model" "models/props_fortifications/police_barrier001_128_reference.mdl"
	"solid" "6"
	"disableshadows" "1"
	"skin" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-4497 -5605 -64"
	"angles" "0 90 0"
	"model" "models/props_fortifications/police_barrier001_128_reference.mdl"
	"solid" "6"
	"disableshadows" "1"
	"skin" "1"
}
; --- Gnome
{
	"classname" "prop_dynamic"
	"origin" "-4658 -5632 -64"
	"angles" "0 90 0"
	"model" "models/props_fairgrounds/gnome_closet.mdl"
	"solid" "6"
	"disableshadows" "1"
	"targetname" "fake_gnome_closet"
}
{
	"classname" "logic_auto"
	"OnMapSpawn" "gnome_capture_trigger,AddOutput,mins -12 -11 -21,0,-1"
	"OnMapSpawn" "gnome_capture_trigger,AddOutput,maxs 12 11 21,0,-1"
	"OnMapSpawn" "gnome_capture_trigger,AddOutput,boxmins -12 -11 -21,0,-1"
	"OnMapSpawn" "gnome_capture_trigger,AddOutput,boxmaxs 12 11 21,0,-1"
	"OnMapSpawn" "gnome_capture_trigger,AddOutput,solid 2,0,-1"
}
{
	"classname" "trigger_once"
	"origin" "-4668 -5621 -44"
	"targetname" "gnome_capture_trigger"
	"filtername" "gnome_filter"
	"spawnflags" "8"
	"OnStartTouch" "!activator,Kill,,0,-1"
	"OnStartTouch" "fake_gnome,AddOutput,origin -4676 -5628 -52,0,-1"
	"OnStartTouch" "gnome_hello,PlaySound,,0,-1"
	"OnStartTouch" "gnome_success,Start,,0,-1"
	"OnStartTouch" "gnome_trick1,Enable,,0,-1"
	"OnStartTouch" "button_gnome_trick1,AddOutput,origin -4668 -5622 -14,0.5,-1"
}
{
	"classname" "filter_activator_model"
	"origin" "-4764 -5621 -44"
	"targetname" "gnome_filter"
	"model" "models/props_junk/gnome.mdl"
}
{
	"classname" "prop_dynamic_override"
	"origin" "-4676 -5628 -152"
	"angles" "0 270 0"
	"model" "models/props_junk/gnome.mdl"
	"solid" "0"
	"disableshadows" "1"
	"targetname" "fake_gnome"
}
{
	"classname" "ambient_generic"
	"origin" "-4668 -5608 0"
	"message" "Lilpeanut.GALLERY_SPAWN"
	"targetname" "gnome_hello"
	"spawnflags" "48"
	"radius" "0"
	"pitchstart" "100"
	"pitch" "100"
	"health" "10"
	"volstart" "10"
}
{
	"classname" "ambient_generic"
	"origin" "-4668 -5608 0"
	"message" "npc\moustachio\strengthattract05.wav"
	"targetname" "gnome_trick1_snd"
	"spawnflags" "48"
	"radius" "0"
	"pitchstart" "100"
	"pitch" "100"
	"health" "10"
	"volstart" "10"
}
{
	"classname" "ambient_generic"
	"origin" "-4668 -5608 0"
	"message" "npc\moustachio\strengthbreakmachine.wav"
	"targetname" "gnome_trick2_snd"
	"spawnflags" "48"
	"radius" "0"
	"pitchstart" "100"
	"pitch" "100"
	"health" "10"
	"volstart" "10"
}
{
	"classname" "ambient_generic"
	"origin" "-4668 -5608 0"
	"message" "npc\virgil\c3end52.wav"
	"targetname" "gnome_trick3_snd"
	"spawnflags" "48"
	"radius" "0"
	"pitchstart" "100"
	"pitch" "100"
	"health" "10"
	"volstart" "10"
}
{
	"classname" "info_particle_system"
	"origin" "-4681 -5628 48"
	"angles" "-30 0 0"
	"targetname" "gnome_success"
	"effect_name" "string_lights_heart_02"
	"start_active" "0"
	"cpoint1" "gnome_hearts_endpoint"
}
{
	"classname" "info_particle_system"
	"origin" "-4681 -5628 48"
	"angles" "-30 180 0"
	"targetname" "gnome_success"
	"effect_name" "string_lights_heart_02"
	"start_active" "0"
	"cpoint1" "gnome_hearts_endpoint"
}
{
	"classname" "info_particle_target"
	"origin" "-4681 -5628 2"
	"angles" "90 180 0"
	"targetname" "gnome_hearts_endpoint"
}
{
	"classname" "script_func_button"
	"origin" "-4668 -5622 -214"
	"angles" "0 0 0"
	"extent" "12 5 13"
	"targetname" "button_gnome_trick1"
	"spawnflags" "1025"
	"wait" "1"
	"glow" "gnome_trick1"
	"OnPressed" "gnome_trick1,Kill,,0,-1"
	"OnPressed" "button_gnome_trick1,AddOutput,origin -4668 -5622 -214,0.5,-1"
	"OnPressed" "button_gnome_trick2,AddOutput,origin -4668 -5622 -14,1.5,-1"
	"OnPressed" "gnome_trick1_snd,PlaySound,,0,-1"
	"OnPressed" "gnome_trick2,Enable,,1.5,-1"
	"OnPressed" "button_gnome_trick2,Unlock,,1.5,-1"
}
{
	"classname" "prop_dynamic"
	"origin" "-4668 -5622 -26"
	"angles" "0 270 0"
	"model" "models/w_models/weapons/w_eq_painpills.mdl"
	"solid" "0"
	"disableshadows" "1"
	"targetname" "gnome_trick1"
	"startdisabled" "1"
}
{
	"classname" "script_func_button"
	"origin" "-4668 -5622 -214"
	"angles" "0 0 0"
	"extent" "12 5 13"
	"targetname" "button_gnome_trick2"
	"spawnflags" "1025"
	"wait" "1"
	"glow" "gnome_trick2"
	"OnPressed" "gnome_trick2,Kill,,0,-1"
	"OnPressed" "button_gnome_trick2,AddOutput,origin -4668 -5622 -214,0.5,-1"
	"OnPressed" "button_gnome_trick3,AddOutput,origin -4668 -5622 -14,2.5,-1"
	"OnPressed" "gnome_trick2_snd,PlaySound,,0,-1"
	"OnPressed" "gnome_trick3,Enable,,2.5,-1"
	"OnPressed" "button_gnome_trick3,Unlock,,2.5,-1"
}
{
	"classname" "prop_dynamic"
	"origin" "-4668 -5622 -26"
	"angles" "0 270 0"
	"model" "models/w_models/weapons/w_eq_medkit.mdl"
	"solid" "0"
	"disableshadows" "1"
	"targetname" "gnome_trick2"
	"startdisabled" "1"
}
{
	"classname" "script_func_button"
	"origin" "-4668 -5622 -214"
	"angles" "0 0 0"
	"extent" "12 5 13"
	"targetname" "button_gnome_trick3"
	"spawnflags" "1025"
	"wait" "1"
	"glow" "gnome_trick3"
	"OnPressed" "gnome_trick3,Kill,,0,-1"
	"OnPressed" "button_gnome_trick3,AddOutput,origin -4668 -5622 -214,0.5,-1"
	"OnPressed" "gnome_trick3_snd,PlaySound,,0,-1"
	"OnPressed" "gnome_explosion,Explode,,3,-1"
	"OnPressed" "gnome_explosion_snd,PlaySound,,3,-1"
	"OnPressed" "fake_gnome,Kill,,3,-1"
	"OnPressed" "fake_gnome_closet,Kill,,3,-1"
}
{
	"classname" "prop_dynamic"
	"origin" "-4668 -5622 -26"
	"angles" "0 270 0"
	"model" "models/w_models/weapons/w_eq_defibrillator.mdl"
	"solid" "0"
	"disableshadows" "1"
	"targetname" "gnome_trick3"
	"startdisabled" "1"
}
{
	"classname" "env_explosion"
	"origin" "-4668 -5621 -44"
	"spawnflags" "1"
	"targetname" "gnome_explosion"
	"iMagnitude" "0"
	"iRadiusOverride" "30"
	"fireballsprite" "sprites/zerogxplode.spr"
}
{
	"classname" "ambient_generic"
	"origin" "-4668 -5608 0"
	"message" "junkyard.plane_engine_explosion"
	"targetname" "gnome_explosion_snd"
	"spawnflags" "48"
	"radius" "0"
	"pitchstart" "100"
	"pitch" "100"
	"health" "10"
	"volstart" "10"
}
{
	"classname" "ambient_generic"
	"origin" "-4668 -5608 0"
	"message" "Lilpeanut.GALLERY_HIT"
	"targetname" "gnome_explosion_snd"
	"spawnflags" "48"
	"radius" "0"
	"pitchstart" "100"
	"pitch" "100"
	"health" "10"
	"volstart" "10"
}

; ################  ITEM SPAWN CHANGES  ###############
; =====================================================
; ==           PILL / ITEM / WEAPON SPAWNS           ==
; ==   Remove or change pill, item & weapon spawns   ==
; =====================================================

; =====================================================
; ==                STATIC AMMO PILES                ==
; ==          Add or modify ammo pile spawns         ==
; =====================================================
add:
{
	"solid" "0"
	"origin" "1805 -1351 0"
	"angles" "0 -159 0"
	"model"	 "models/props/terror/ammo_stack.mdl"
	"classname" "weapon_ammo_spawn"
        "disableshadows" "1"
        "spawnflags" "2"
}
{
	"solid" "0"
	"origin" "712 -66 0"
	"angles" "0 100 0"
	"model"	 "models/props/terror/ammo_stack.mdl"
	"classname" "weapon_ammo_spawn"
        "disableshadows" "1"
        "spawnflags" "2"
}
{
	"solid" "0"
	"origin" "-2676 -1386 -91"
	"angles" "0 -172 0"
	"model"	 "models/props/terror/ammo_stack.mdl"
	"classname" "weapon_ammo_spawn"
        "disableshadows" "1"
        "spawnflags" "2"
}
{
	"solid" "0"
	"origin" "-2936 -4780 -128"
	"angles" "0 68 0"
	"model"	 "models/props/terror/ammo_stack.mdl"
	"classname" "weapon_ammo_spawn"
        "disableshadows" "1"
        "spawnflags" "2"
}
{
	"solid" "0"
	"origin" "-2283 -6490 -97"
	"angles" "0 178 0"
	"model"	 "models/props/terror/ammo_stack.mdl"
	"classname" "weapon_ammo_spawn"
        "disableshadows" "1"
        "spawnflags" "2"
}

; =====================================================
; ==                 HITTABLE CHANGES                ==
; ==           Add/remove/modify hittables           ==
; =====================================================


; #############  MAP CLIPPING AND ISSUES  #############
; =====================================================
; ==                 EXPLOITS BLOCKED                ==
; ==      Block intentionally performed exploits     ==
; =====================================================
add:
; --- Block standing on tents by the start saferoom
{
	"classname" "env_physics_blocker"
	"origin" "1906 1092 456"
	"mins" "-130 -64 -312.5"
	"maxs" "130 64 312.5"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block standing on hedges by the restrooms at the start of the map
{
	"classname" "env_physics_blocker"
	"origin" "3031 1582 454"
	"mins" "-25 -280 -314"
	"maxs" "25 280 314"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block climbing the generator near the start saferoom
{
	"classname" "env_physics_blocker"
	"origin" "2789 971 97"
	"mins" "-6 -6 -98"
	"maxs" "6 6 98"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block the 2 game buildings at the start of the map
{
	"classname" "env_physics_blocker"
	"origin" "2720 512 442"
	"mins" "-184 -216 -326"
	"maxs" "184 216 326"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "2720 0 444"
	"mins" "-194 -162 -324"
	"maxs" "194 162 324"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block standing on hedges between restrooms and refreshments building
{
	"classname" "env_physics_blocker"
	"origin" "3728 1233 450"
	"mins" "-128 -31 -318"
	"maxs" "128 31 318"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "3833 1068 450"
	"mins" "-23 -134 -318"
	"maxs" "23 134 318"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block shipping container by gun table
{
	"classname" "env_physics_blocker"
	"origin" "3169 -1264 457"
	"mins" "-66.5 -196 -311"
	"maxs" "66.5 196 311"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block tents by gun table
{
	"classname" "env_physics_blocker"
	"origin" "3374 -1248 457"
	"mins" "-64 -64 -311"
	"maxs" "64 64 311"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "3391 -1089 457"
	"angles" "0 334 0"
	"mins" "-68 -68 -311"
	"maxs" "68 68 311"
	"boxmins" "-68 -68 -311"
	"boxmaxs" "68 68 311"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block hotdog stands before the warehouse
{
	"classname" "env_physics_blocker"
	"origin" "3473 -1964 455"
	"mins" "-108 -53 -312.5"
	"maxs" "108 53 312.5"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "3698 -1910 455"
	"angles" "0 14 0"
	"mins" "-108 -53 -312.5"
	"maxs" "108 53 312.5"
	"boxmins" "-108 -53 -312.5"
	"boxmaxs" "108 53 312.5"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block electrical box by the hotdog stands
{
	"classname" "env_physics_blocker"
	"origin" "3778 -2176 458"
	"mins" "-70 -24 -310"
	"maxs" "70 24 310"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block group of tents before the warehouse
; --- Front group of 2
{
	"classname" "env_physics_blocker"
	"origin" "3872 -814 457"
	"angles" "0 96.5 0"
	"mins" "-67 -64 -311"
	"maxs" "67 64 311"
	"boxmins" "-67 -64 -311"
	"boxmaxs" "67 64 311"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "3838 -960 457"
	"mins" "-67 -64 -311"
	"maxs" "67 64 311"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Front group of 3
{
	"classname" "env_physics_blocker"
	"origin" "3838 -1344 457"
	"mins" "-67 -64 -311"
	"maxs" "67 64 311"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "3832 -1472 457"
	"mins" "-68 -64 -311"
	"maxs" "68 64 311"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "3832 -1606 457"
	"angles" "0 -3 0"
	"mins" "-67 -64 -311"
	"maxs" "67 64 311"
	"boxmins" "-67 -64 -311"
	"boxmaxs" "67 64 311"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Middle group of 2
{
	"classname" "env_physics_blocker"
	"origin" "3968 -1536 457"
	"mins" "-64 -128 -311"
	"maxs" "64 128 311"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Back row
{
	"classname" "env_physics_blocker"
	"origin" "4365 -632 457"
	"angles" "0 5 0"
	"mins" "-67 -64 -311"
	"maxs" "67 64 311"
	"boxmins" "-67 -64 -311"
	"boxmaxs" "67 64 311"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "4349 -896 457"
	"mins" "-67 -192 -311"
	"maxs" "67 192 311"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "4338 -1216 457"
	"mins" "-68 -128 -311"
	"maxs" "68 128 311"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "4349 -1472 457"
	"mins" "-67 -64 -311"
	"maxs" "67 64 311"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block climbing on the generator outside the warehouse
{
	"classname" "env_physics_blocker"
	"origin" "2891 -1726 143"
	"mins" "-10 -5.5 -143"
	"maxs" "10 5.5 143"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block standing on the shutter door outside the warehouse entrance
{
	"classname" "env_physics_blocker"
	"origin" "2752 -1547 194"
	"mins" "-72 -12 -46"
	"maxs" "72 12 46"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block survivors from getting on the warehouse roof
{
	"classname" "env_physics_blocker"
	"origin" "2048 -1024 519"
	"mins" "-1040 -544 -249"
	"maxs" "1040 544 249"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "2752 -420 496"
	"mins" "-320 -60 -272"
	"maxs" "320 60 272"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "1728 -432 468"
	"mins" "-704 -48 -300"
	"maxs" "704 48 300"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block standing on hedges after warehouse
{
	"classname" "env_physics_blocker"
	"origin" "419 -1510 448"
	"mins" "-19 -280 -320"
	"maxs" "19 280 320"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block standing on 2 porta potties by the shipping container
{
	"classname" "env_physics_blocker"
	"origin" "513 -1024 448"
	"mins" "-29 -30 -320"
	"maxs" "29 30 320"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "513 -880 448"
	"mins" "-29 -30 -320"
	"maxs" "29 30 320"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block climbing on the generator before kiddyland
{
	"classname" "env_physics_blocker"
	"origin" "821 -169 98"
	"mins" "-5 -7 -98"
	"maxs" "5 7 98"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block tents in kiddyland
; --- Group of 2 by closed rocket ride
{
	"classname" "env_physics_blocker"
	"origin" "-579 832 391"
	"mins" "-67 -64 -377"
	"maxs" "67 64 377"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-579 672 391"
	"mins" "-67 -64 -377"
	"maxs" "67 64 377"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Group of 3 by closed rocket ride
{
	"classname" "env_physics_blocker"
	"origin" "-1280 1088 391"
	"mins" "-64 -64 -377"
	"maxs" "64 64 377"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-1152 1072 391"
	"mins" "-64 -64 -377"
	"maxs" "64 64 377"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-1152 1072 391"
	"mins" "-64 -64 -377"
	"maxs" "64 64 377"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-1008 1104 391"
	"angles" "0 11.5 0"
	"mins" "-65 -65 -377"
	"maxs" "65 65 377"
	"boxmins" "-65 -65 -377"
	"boxmaxs" "65 65 377"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Group of 2 by the restrooms
{
	"classname" "env_physics_blocker"
	"origin" "-2976 1469 391"
	"mins" "-128 -67 -377"
	"maxs" "128 67 377"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Single tent by the restrooms
{
	"classname" "env_physics_blocker"
	"origin" "-2816 320 391"
	"mins" "-64 -64 -377"
	"maxs" "64 64 377"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block hedges in kiddyland
{
	"classname" "env_physics_blocker"
	"origin" "-545 1255 394"
	"mins" "-33 -265 -374"
	"maxs" "33 265 374"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-1106 1485 394"
	"mins" "-527.5 -35 -374"
	"maxs" "527.5 35 374"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-2080 1485 394"
	"mins" "-129.5 -35 -374"
	"maxs" "129.5 35 374"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block standing on the hotdog stand in kiddyland
{
	"classname" "env_physics_blocker"
	"origin" "-1784 1504 384"
	"mins" "-104 -32 -384"
	"maxs" "104 32 384"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-1784 1444 384"
	"angles" "0 5 0"
	"mins" "-109 -52.5 -384"
	"maxs" "109 52.5 384"
	"boxmins" "-109 -52.5 -384"
	"boxmaxs" "109 52.5 384"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block standing on the electrical box in kiddyland
{
	"classname" "env_physics_blocker"
	"origin" "-2669 1513 396"
	"mins" "-70 -24 -372"
	"maxs" "70 24 372"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block top of unmarked building in kiddyland
{
	"classname" "env_physics_blocker"
	"origin" "-2432 769 407"
	"mins" "-208 -111.5 -361"
	"maxs" "208 111.5 361"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block jumping on the awnings by the ice box in kiddyland
{
	"classname" "env_physics_blocker"
	"origin" "-3197 49 398"
	"mins" "-3.5 -133 -370"
	"maxs" "3.5 133 370"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block jumping on the buggies ride (can be re-enabled if angled blockers get fixed) (#34)
;{
;	"classname" "env_physics_blocker"
;	"origin" "-1341 -1333 401"
;	"angles" "0 10 0"
;	"mins" "-106 -10 -367"
;	"maxs" "106 10 367"
;	"boxmins" "-106 -10 -367"
;	"boxmaxs" "106 10 367"
;	"initialstate" "1"
;	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-1408 -1025 441"
	"mins" "-198 -198 -327"
	"maxs" "198 198 327"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block jumping on the trains ride (can be re-enabled if angled blockers get fixed) (#34)
;{
;	"classname" "env_physics_blocker"
;	"origin" "-2114 -564 401"
;	"angles" "0 10 0"
;	"mins" "-106 -10 -367"
;	"maxs" "106 10 367"
;	"boxmins" "-106 -10 -367"
;	"boxmaxs" "106 10 367"
;	"initialstate" "1"
;	"BlockType" "1"
;}
{
	"classname" "env_physics_blocker"
	"origin" "-2176 -256 441"
	"mins" "-198 -198 -327"
	"maxs" "198 198 327"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block the group of tents by the generators in kiddyland
{
	"classname" "env_physics_blocker"
	"origin" "-2276 -882 383"
	"mins" "-64 -64 -385"
	"maxs" "64 64 385"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-2274 -1016 383"
	"mins" "-64 -64 -385"
	"maxs" "64 64 385"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-2278 -1154 383"
	"angles" "0 4 0"
	"mins" "-64 -64 -385"
	"maxs" "64 64 385"
	"boxmins" "-64 -64 -385"
	"boxmaxs" "64 64 385"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block climbing on the generators in kiddyland
{
	"classname" "env_physics_blocker"
	"origin" "-2046 -1272 -30"
	"mins" "-6.5 -5.5 -98"
	"maxs" "6.5 5.5 98"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-2415 -1462 -31"
	"mins" "-5.5 -6.5 -98"
	"maxs" "5.5 6.5 98"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block climbing generator before the ladder
{
	"classname" "env_physics_blocker"
	"origin" "-3763 -1989 15"
	"mins" "-7.5 -4 -143"
	"maxs" "7.5 4 143"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block rolling door and AC unit before the ladder that can prevent death punches
{
	"classname" "env_physics_blocker"
	"origin" "-4021 -1601 393"
	"mins" "-12 -68.5 -375.5"
	"maxs" "12 68.5 375.5"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-4000 -1280 469"
	"mins" "-29 -60 -298.5"
	"maxs" "29 60 298.5"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block standing on wooden supports for wall before the slide
{
	"classname" "env_physics_blocker"
	"origin" "-3146 -1189 544"
	"mins" "-126 -4.5 -225"
	"maxs" "126 4.5 225"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-2853 -1536 544"
	"mins" "-4.5 -352 -225"
	"maxs" "4.5 352 225"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-2996 -1884 544"
	"mins" "-62 -4.5 -225"
	"maxs" "62 4.5 225"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block hedges by the slide
{
	"classname" "env_physics_blocker"
	"origin" "-1782 -1833 394"
	"mins" "-129.5 -33 -375"
	"maxs" "129.5 33 375"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-1025 -3285 394"
	"mins" "-129.5 -43 -375"
	"maxs" "129.5 43 375"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block climbing on the generator by the slide
{
	"classname" "env_physics_blocker"
	"origin" "-2343 -3287 15"
	"mins" "-7 -7 -143"
	"maxs" "7 7 143"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block getting on the left platform at the one way drop - Removed while "Carousel Room" is open
;{
;	"classname" "env_physics_blocker"
;	"origin" "-1916 -4160 392"
;	"mins" "-132 -320 -376"
;	"maxs" "132 320 376"
;	"initialstate" "1"
;	"BlockType" "1"
;}
; --- Block jumping on the light post to common jump back up the one way drop
{
	"classname" "env_physics_blocker"
	"origin" "-2664 -4248 -18"
	"mins" "-12 -12 -50"
	"maxs" "12 12 50"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block jumping on the ice machine to common jump back up the one way drop
{
	"classname" "env_physics_blocker"
	"origin" "-3400 -4124 -86"
	"mins" "-40 -28 -42.5"
	"maxs" "40 28 42.5"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block hedges by the carousel
{
	"classname" "env_physics_blocker"
	"origin" "-4224 -4000 395"
	"mins" "-129 -22 -373"
	"maxs" "129 22 373"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-3962 -4148 395"
	"mins" "-129 -22 -373"
	"maxs" "129 22 373"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-743 -4813 395"
	"mins" "-23 -253.5 -373"
	"maxs" "23 253.5 373"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block the hotdog stand by the carousel
{
	"classname" "env_physics_blocker"
	"origin" "-1509 -4414 383"
	"angles" "0 -3.5 0"
	"mins" "-109 -53 -385.5"
	"maxs" "109 53 385.5"
	"boxmins" "-109 -53 -385.5"
	"boxmaxs" "109 53 385.5"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block tent by the carousel
{
	"classname" "env_physics_blocker"
	"origin" "-1089 -4703 390"
	"angles" "0 10 0"
	"mins" "-68 -65 -378.5"
	"maxs" "68 65 378.5"
	"boxmins" "-68 -65 -378.5"
	"boxmaxs" "68 65 378.5"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block climbing generators by carousel
{
	"classname" "env_physics_blocker"
	"origin" "-2913 -5207 -30"
	"mins" "-4.5 -6.5 -98"
	"maxs" "4.5 6.5 98"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-1291 -6211 -30"
	"mins" "-5.5 -6.5 -98"
	"maxs" "5.5 6.5 98"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-2797 -6322 15"
	"mins" "-7.5 -4 -143"
	"maxs" "7.5 4 143"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-3574 -5820 36"
	"mins" "-6.5 -5.5 -98"
	"maxs" "6.5 5.5 98"
	"initialstate" "1"
	"BlockType" "1"
}

; =====================================================
; ==                  OUT OF BOUNDS                  ==
; ==  Block players getting outside / under the map  ==
; =====================================================
add:
; --- Block an out of bounds spot behind a fence in kiddyland
{
	"classname" "env_physics_blocker"
	"origin" "-3460 576 433"
	"mins" "-8 -64 -335.5"
	"maxs" "8 64 335.5"
	"initialstate" "1"
	"BlockType" "1"
}

; =====================================================
; ==                   STUCK SPOTS                   ==
; ==  Prevent players from getting stuck in the map  ==
; =====================================================
add:
; --- Block players from falling behind hedges outside kiddyland (not actually stuck, but it LOOKS like a stuck spot to a player)
{
	"classname" "env_physics_blocker"
	"origin" "-4712 1183 -63"
	"mins" "-24 -286.5 -65"
	"maxs" "24 286.5 65"
	"initialstate" "1"
	"BlockType" "0"
}
; --- Block players from falling behind hedges outside the carousel area (not actually stuck, but it LOOKS like a stuck spot to a player)
{
	"classname" "env_physics_blocker"
	"origin" "-5093 -4204 -64"
	"mins" "-27 -405.5 -64"
	"maxs" "27 405.5 64"
	"initialstate" "1"
	"BlockType" "0"
}
; --- Block players from getting stuck behind hedges outside the carousel area
{
	"classname" "env_physics_blocker"
	"origin" "-4608 -3736 -64"
	"mins" "-512 -24 -64"
	"maxs" "512 24 64"
	"initialstate" "1"
	"BlockType" "0"
}
; --- Block a stuck spot out of bounds by the carousel
{
	"classname" "env_physics_blocker"
	"origin" "-1782 -7282 249"
	"mins" "-256 -14 -57"
	"maxs" "256 14 57"
	"initialstate" "1"
	"BlockType" "0"
}

; =====================================================
; ==                 NUISANCE CHANGES                ==
; ==      Clipping improvements, QOL map changes     ==
; =====================================================
add:
; --- Wrong way signs for the skybox in the area at the back of kiddyland
{
	"classname" "prop_dynamic"
	"origin" "-449 1723 53"
	"angles" "0 180 0"
	"model" "models/props_misc/wrongway_sign01_optimized.mdl"
	"solid" "0"
	"disableshadows" "1"
	"fademindist" "200"
	"fademaxdist" "300"
}
{
	"classname" "prop_dynamic"
	"origin" "-513 2139 53"
	"angles" "0 180 0"
	"model" "models/props_misc/wrongway_sign01_optimized.mdl"
	"solid" "0"
	"disableshadows" "1"
	"fademindist" "200"
	"fademaxdist" "300"
}
; --- Clipping on bottom of slide to prevent extreme ice-like movement
{
	"classname" "env_physics_blocker"
	"origin" "-2005 -2304 -101"
	"angles" "5.5 0 0"
	"mins" "-85 -240 -5"
	"maxs" "85 240 5"
	"boxmins" "-85 -240 -5"
	"boxmaxs" "85 240 5"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_physics_blocker"
	"origin" "-2106 -2304 -82"
	"angles" "27 0 0"
	"mins" "-26 -240 -5"
	"maxs" "26 240 5"
	"boxmins" "-26 -240 -5"
	"boxmaxs" "26 240 5"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_physics_blocker"
	"origin" "-2142 -2304 -52"
	"angles" "47.5 0 0"
	"mins" "-36 -240 -5"
	"maxs" "36 240 5"
	"boxmins" "-36 -240 -5"
	"boxmaxs" "36 240 5"
	"initialstate" "1"
	"BlockType" "0"
}
; --- Allow ghost infected to pass through the breakable walls at the event
modify:
{
	match:
	{
		"targetname" "courtyard_bldg1_clip"
	}
	replace:
	{
		"Solidity" "1"
	}
}
{
	match:
	{
		"targetname" "courtyard_bldg2_clip"
	}
	replace:
	{
		"Solidity" "1"
	}
}

; ###########  ADDITIONAL PROPS AND SPAWNS  ###########
; =====================================================
; ==                      PROPS                      ==
; ==       New props for balance and SI spawns       ==
; =====================================================

; =====================================================
; ==             LADDER / ELEVATOR NERF              ==
; ==   Nerf ladder & elevator attacks for infected   ==
; =====================================================


; ############  MAP SOUND AND GFX CHANGES  ############
; =====================================================
; ==                  SOUND REMOVAL                  ==
; ==    Remove or adjust sounds played by the map    ==
; =====================================================

; =====================================================
; ==             GFX / PARTICLES REMOVAL             ==
; ==        Remove visual effects from the map       ==
; =====================================================


; ###############  TRIGGERS AND BRUSHES  ##############
; =====================================================
; ==                   CLIP REMOVAL                  ==
; ==      Remove miscellaneous clips and brushes     ==
; =====================================================
; --- Remove TLS infected clips after loading
add:
{
	"classname" "logic_auto"
	; --- Clip in area behind kiddyland
	"OnMapSpawn" "anv_mapfixes_yeswayfairback_funcinfclip,Kill,,30,-1"
	; --- Clip on end saferoom roof
	"OnMapSpawn" "anv_mapfixes_meticulous_funcinfclip01,Kill,,30,-1"
	"OnMapSpawn" "anv_mapfixes_meticulous_funcinfclip02,Kill,,30,-1"
}

; =====================================================
; ==              TRIGGER REMOVAL / FIX              ==
; ==    Fix triggers that interfere with gameplay    ==
; =====================================================
; --- Remove the trigger that prevents fall damage on the slide
filter:
{
	"hammerid" "3065028"
}

; #############  LADDER CHANGES AND FIXES  ############
; =====================================================
; ==             LADDER ADDITIONS / FIXES            ==
; ==              Add or change ladders              ==
; =====================================================

