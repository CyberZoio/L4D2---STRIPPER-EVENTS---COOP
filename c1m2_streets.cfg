; ############  DIRECTOR AND EVENT CHANGES  ###########
; =====================================================
; ==          DIRECTOR & EVENT MODIFICATION          ==
; ==       Modify director behaviour and events      ==
; =====================================================
; --- Move the cola into a new location near the middle of the store
modify:
{
	match:
	{
		"targetname" "cola"
	}
	replace:
	{
		"origin" "-7337 -2022 431.5"
		"angles" "0 0 0"
	}
	insert:
	{
		"OnPlayerPickup" "cola_cooler,StopGlowing,,0,-1"
	}
}
{
	match:
	{
		"targetname" "cola_template"
	}
	insert:
	{
		"OnEntitySpawned" "cola_cooler,StartGlowing,,0,-1"
	}
}
add:
{
	"classname" "prop_dynamic"
	"origin" "-7324 -2022 392"
	"angles" "0 180 0"
	"model" "models/props_equipment/cooler.mdl"
	"solid" "6"
	"disableshadows" "1"
	"targetname" "cola_cooler"
	"glowrangemin" "200"
}
; --- Add some fake lighting to highlight it to the player
{
	"classname" "prop_dynamic"
	"origin" "-7422 -2052 542"
	"angles" "0 90 0"
	"model" "models/props/cs_office/light_shop.mdl"
	"solid" "0"
	"disableshadows" "1"
	"skin" "0"
}
{
	"classname" "beam_spotlight"
	"angles" "90 0 0"
	"origin" "-7422 -2052 542"
	"spawnflags" "3"
	"HDRColorScale" ".35"
	"rendercolor" "219 238 233 1"
	"renderamt" "255"
	"spotlightwidth" "50"
	"spotlightlength" "200"
	"disablereceiveshadows" "1"
	"rendermode" "0"
}
{
	"classname" "env_sprite"
	"origin" "-7423 -2052 536"
	"spawnflags" "1"
	"scale" "1.5"
	"rendermode" "9"
	"renderfx" "0"
	"rendercolor" "219 238 233"
	"renderamt" "125"
	"model" "sprites/glow06.vmt"
	"HDRColorScale" ".7"
	"GlowProxySize" "8"
}
; --- Enable the 2 alarm cars after the event
modify:
{
	match:
	{
		"targetname" "branch_caralarm-car1_alarm"
	}
	replace:
	{
		"OnTrue" "relay_caralarm_on-car1_alarmTrigger0-1"
	}
}
{
	match:
	{
		"targetname" "branch_caralarm-car2_alarm"
	}
	replace:
	{
		"OnTrue" "relay_caralarm_on-car2_alarmTrigger0-1"
	}
}

; =====================================================
; --- Sky.cfg by: Electrik, JaneDoe, Visor, vintik
; --- https://github.com/Attano/Sky/tree/master
; --- Evento bombardeio F18
add:
; --- gatilhos
{
	"classname" "logic_auto"
	"OnMapSpawn" "sky_f18_exp_bridgeaddoutputmins 0 0 00-1"
    	"OnMapSpawn" "sky_f18_exp_bridgeaddoutputmaxs 850 0 5000-1"
    	"OnMapSpawn" "sky_f18_exp_bridgeaddoutputsolid 20-1"
}
{
	"classname" "trigger_once"
	"targetname" "sky_f18_exp_bridge"
	"filtername" "sky_filter_survs"
	"spawnflags" "1"
	"startdisabled" "0"
	"origin" "-2480 1400 0"
	"OnTrigger" "sky_servercommander,command,sm_strikes -2742 2572 284 180,0,-1"
	"OnTrigger" "sky_servercommander,command,sm_strikes -1841 2840 285 180,0,-1"
	"OnTrigger" "sky_visual_trigger,kill,,0.1,-1"
	"OnTrigger" "sky_exp_relay_cars,Trigger,,4.5,-1"
}
{
	"classname" "logic_relay"
	"spawnflags" "0"
	"targetname" "sky_exp_relay_tanker"
	"OnTrigger" "sky_tanker1,Disable,,0.9,-1"
	"OnTrigger" "sky_tanker_wrecked2,SetAnimation,debris,0,-1"
	"OnTrigger" "sky_tanker_wrecked1,SetAnimation,debris,0,-1"
	"OnTrigger" "sky_tanker_glass,Disable,,0.9,-1"
	"OnTrigger" "sky_tanker_wrecked2,Enable,,0,-1"
}
{
	"classname" "logic_relay"
	"spawnflags" "0"
	"targetname" "sky_exp_relay_cars"
	"OnTrigger" "!activator,speakresponseconcept,C5M4BombInt01,0,-1"
	"OnTrigger" "!Rochelle,speakresponseconcept,PlayerLookOut,2,-1"
	"OnTrigger" "director,ForcePanicEvent,,5,-1"
	"OnTrigger" "sky_servercommander,command,sm_cvar_silent hc_car_standing_damage 30,1.5,-1"
	"OnTrigger" "sky_servercommander,command,sm_cvar_silent hc_car_standing_damage 100,4.5,-1"
	"OnTrigger" "sky_exp_physimpact_07,Impact,,0,-1"
	"OnTrigger" "sky_exp_physimpact_02,Impact,,0,-1"
	"OnTrigger" "sky_exp_physimpact_06,Impact,,0,-1"
	"OnTrigger" "sky_exp_physimpact_08,Impact,,1,-1"
	"OnTrigger" "sky_exp_physimpact_03,Impact,,1,-1"
	"OnTrigger" "sky_exp_physimpact_01,Impact,,1.3,-1"
	"OnTrigger" "sky_exp_physimpact_05,Impact,,1.4,-1"
	"OnTrigger" "sky_exp_relay_tanker,Trigger,,1.5,-1"
	"OnTrigger" "sky_exp_relay_wire,Trigger,,1,-1"
	"OnTrigger" "sky_exp_particles_01,Start,,0,-1"
	"OnTrigger" "sky_exp_particles_02,Start,,1,-1"
	"OnTrigger" "sky_exp_particles_03,Start,,1.5,-1"
	"OnTrigger" "sky_exp_sound_01,PlaySound,,0,-1"
	"OnTrigger" "sky_exp_sound_02,PlaySound,,1,-1"
	"OnTrigger" "sky_exp_sound_03,PlaySound,,1.5,-1"
	"OnTrigger" "sky_timescale,Start,,0,-1"
	"OnTrigger" "sky_timescale,Stop,,2.4,-1"
	"OnTrigger" "sky_bt_colorcorrect,Enable,,0,-1"
	"OnTrigger" "sky_bt_colorcorrect,Disable,,2.4,-1"
	"OnTrigger" "sky_heart_sound,PlaySound,,0,-1"
	"OnTrigger" "sky_heart_sound,FadeOut,4,2.4,-1"
}
{
	"classname" "logic_relay"
	"spawnflags" "0"
	"targetname" "sky_exp_relay_wire"
	"OnTrigger" "AutoInstance1-cable04_8,Break,,0,-1"
	"OnTrigger" "AutoInstance1-cable03_8,Break,,0,-1"
	"OnTrigger" "AutoInstance1-cable02_8,Break,,0,-1"
	"OnTrigger" "AutoInstance1-cable01_8,Break,,0,-1"
	"OnTrigger" "sky_exp_wiresparks_a,StartSpark,,0,-1"
	"OnTrigger" "sky_exp_wiresparks_a,StopSpark,,2.2,-1"
	"OnTrigger" "sky_exp_wiresparks_b,StartSpark,,0.3,-1"
}
;bloqueio nav
{
	"classname" "func_nav_blocker"
	"origin" "-1562 1743 131"
	"targetname" "f18_nav_block"
	"teamToBlock" "-1"
}
{
	"classname" "logic_auto"
	"OnMapSpawn" "f18_nav_block,AddOutput,mins -0 -256 -256,0,-1"
	"OnMapSpawn" "f18_nav_block,AddOutput,maxs 0 256 256,0,-1"
	"OnMapSpawn" "f18_nav_block,AddOutput,solid 2,0,-1"
	"OnMapSpawn" "f18_nav_block,BlockNav,,1,-1"
}
; --- camera lenta
{
	"classname" "func_timescale"
	"minBlendRate" "2"
	"desiredTimescale" "0.2"
	"blendDeltaMultiplier" "3.0"
	"acceleration" "0.05"
	"targetname" "sky_timescale"
}
; --- correcao de cor
{
	"classname" "color_correction"
	"fadeInDuration" "1.0"
	"fadeOutDuration" "2.0"
	"filename" "materials/correction/el_timescale.raw"
	"maxfalloff" "-1"
	"maxweight" "0.9"
	"minfalloff" "-1"
	"spawnflags" "0"
	"StartDisabled" "1"
	"targetname" "sky_bt_colorcorrect"
}
; --- audio
{
	"classname" "ambient_generic"
	"health" "8"
	"message" "player/heartbeatloop.wav"
	"pitch" "100"
	"pitchstart" "100"
	"radius" "5555"
	"spawnflags" "49"
	"targetname" "sky_heart_sound"
	"origin" "-2603 2624 292"
}
{
	"classname" "ambient_generic"
	"health" "10"
	"message" "weapons/grenade_launcher/grenadefire/grenade_launcher_explode_2.wav"
	"pitch" "100"
	"pitchstart" "100"
	"radius" "5555"
	"spawnflags" "49"
	"targetname" "sky_exp_sound_01"
	"origin" "-2352 2544 297"
}
{
	"classname" "ambient_generic"
	"health" "10"
	"message" "weapons/hegrenade/explode5.wav"
	"pitch" "100"
	"pitchstart" "100"
	"radius" "5555"
	"spawnflags" "49"
	"targetname" "sky_exp_sound_02"
	"origin" "-2328 2544 297"
}
{
	"classname" "ambient_generic"
	"health" "10"
	"message" "weapons/hegrenade/explode4.wav"
	"pitch" "100"
	"pitchstart" "100"
	"radius" "5555"
	"spawnflags" "49"
	"targetname" "sky_exp_sound_03"
	"origin" "-2304 2544 297"
}
; --- props
{
	"classname" "prop_physics"
	"angles" "0 345 0"
	"model" "models/props_vehicles/cara_82hatchback_wrecked.mdl"
	"rendercolor" "51 92 134"
	"spawnflags" "256"
	"targetname" "sky_exp_car_01"
	"origin" "-1413 2435 318"
	"disableshadows" "1"
}
{
	"classname" "prop_physics"
	"angles" "0 345 0"
	"model" "models/props_vehicles/cara_82hatchback_wrecked.mdl"
	"rendercolor" "49 136 49"
	"spawnflags" "256"
	"targetname" "sky_exp_car_02"
	"origin" "-2566 2595 296"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"angles" "0 345 0"
	"model" "models/props_vehicles/cara_82hatchback_wrecked_glass.mdl"
	"parentname" "sky_exp_car_02"
	"rendercolor" "216 221 226"
	"solid" "6"
	"origin" "-2566 2595 296"
	"disableshadows" "1"
}
{
	"classname" "prop_physics"
	"angles" "0 0 0"
	"model" "models/props_vehicles/cara_95sedan_wrecked.mdl"
	"rendercolor" "239 152 241"
	"spawnflags" "256"
	"targetname" "sky_exp_car_03"
	"origin" "-1981 2910 293"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"angles" "0 0 0"
	"model" "models/props_vehicles/cara_95sedan_wrecked_glass.mdl"
	"parentname" "sky_exp_car_03"
	"rendercolor" "186 53 215"
	"solid" "6"
	"origin" "-1981 2910 293"
	"disableshadows" "1"
}
{
	"classname" "prop_physics"
	"angles" "0 255 0"
	"model" "models/props_vehicles/cara_82hatchback_wrecked.mdl"
	"rendercolor" "39 146 146"
	"spawnflags" "256"
	"targetname" "sky_exp_car_04"
	"origin" "-1788 2754 300"
	"disableshadows" "1"
}
{
	"classname" "prop_physics"
	"angles" "0 255 0"
	"model" "models/props_vehicles/cara_82hatchback_wrecked.mdl"
	"rendercolor" "0 0 0"
	"spawnflags" "256"
	"targetname" "sky_exp_car_05"
	"origin" "-1405 2594 343"
	"disableshadows" "1"
}
{
	"classname" "prop_physics"
	"angles" "0 170.5 0"
	"model" "models/props_vehicles/suv_2001.mdl"
	"rendercolor" "251 244 172"
	"spawnflags" "256"
	"targetname" "sky_exp_car_06"
	"origin" "-2461 2418 294"
	"disableshadows" "1"
}
{
	"classname" "prop_physics"
	"angles" "0 170.5 0"
	"model" "models/props_vehicles/car003b_physics.mdl"
	"rendercolor" "255 255 255"
	"spawnflags" "256"
	"targetname" "sky_exp_car_08"
	"origin" "-2367 2633 314"
	"disableshadows" "1"
}
{
	"classname" "prop_physics"
	"angles" "0 289 0"
	"model" "models/props_vehicles/car003a_physics.mdl"
	"rendercolor" "255 255 255"
	"spawnflags" "256"
	"targetname" "sky_exp_car_07"
	"origin" "-2647 2444 313"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"angles" "0 90 -1.5"
	"MaxAnimTime" "10"
	"MinAnimTime" "5"
	"model" "models/destruction_tanker/pre_destruction_tanker_trailer.mdl"
	"rendercolor" "255 255 255"
	"solid" "6"
	"spawnflags" "0"
	"StartDisabled" "0"
	"targetname" "sky_tanker1"
	"origin" "-1748.11 2503.71 296.186"
}
{
	"classname" "prop_dynamic"
	"angles" "0 90 -1.5"
	"MaxAnimTime" "10"
	"MinAnimTime" "5"
	"model" "models/destruction_tanker/destruction_tanker_rear.mdl"
	"rendercolor" "255 255 255"
	"solid" "6"
	"spawnflags" "0"
	"StartDisabled" "1"
	"targetname" "sky_tanker_wrecked2"
	"origin" "-1725.12 2503.71 297"
}
{
	"classname" "prop_dynamic"
	"angles" "0 90 -1.5"
	"MaxAnimTime" "10"
	"MinAnimTime" "5"
	"model" "models/destruction_tanker/destruction_tanker_front.mdl"
	"rendercolor" "244 104 11"
	"solid" "6"
	"spawnflags" "0"
	"StartDisabled" "0"
	"targetname" "sky_tanker_wrecked1"
	"origin" "-1748.11 2504 296.186"
}
{
	"classname" "prop_dynamic"
	"angles" "0 90 -1.5"
	"MaxAnimTime" "10"
	"MinAnimTime" "5"
	"model" "models/props_vehicles/longnose_truck_glass.mdl"
	"rendercolor" "255 255 255"
	"solid" "6"
	"spawnflags" "0"
	"StartDisabled" "0"
	"targetname" "sky_tanker_glass"
	"origin" "-2068 2503.71 287.809"
}
{
	"classname" "prop_dynamic"
	"angles" "0 180 0"
	"model" "models/props_urban/fence_cover001_128.mdl"
	"solid" "6"
	"origin" "-1014 2373 326"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"angles" "0 180 0"
	"model" "models/props_urban/fence_cover001_128.mdl"
	"solid" "6"
	"origin" "-1016 2501 326"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"angles" "0 180 0"
	"model" "models/props_urban/fence_cover001_128.mdl"
	"solid" "6"
	"origin" "-1017 2603 326"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"angles" "0 180 0"
	"model" "models/props_urban/fence_cover001_128.mdl"
	"solid" "6"
	"origin" "-1000 2712 321"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"angles" "0 187 0"
	"model" "models/props_urban/fence_cover001_128.mdl"
	"solid" "6"
	"origin" "-1010 2838 321"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"angles" "0 180 0"
	"model" "models/props_urban/fence_cover001_128.mdl"
	"solid" "6"
	"origin" "-1016 2991 321"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"angles" "0 180 0"
	"model" "models/props_urban/fence_cover001_128.mdl"
	"solid" "6"
	"origin" "-1021 2931 321"
	"disableshadows" "1"
}
{
	"solid" "6"
	"origin" "-1592 1866 70"
	"angles" "0 91 0"
	"model"	 "models/props_wasteland/rock_cliff01.mdl"
	"classname"	"prop_dynamic"
	"disableshadows" "1"
}
; --- efeitos fisico
{
	"classname" "env_physimpact"
	"angles" "-50 257 0"
	"magnitude" "800"
	"spawnflags" "5"
	"targetname" "sky_exp_physimpact_05"
	"origin" "-1400 2656 319"
}
{
	"classname" "env_physimpact"
	"angles" "-50 260 0"
	"magnitude" "800"
	"spawnflags" "5"
	"targetname" "sky_exp_physimpact_01"
	"origin" "-1460 2466 315"
}
{
	"classname" "env_physimpact"
	"angles" "-54 265 0"
	"magnitude" "800"
	"spawnflags" "5"
	"targetname" "sky_exp_physimpact_04"
	"origin" "-1779 2812 297"
}
{
	"classname" "env_physimpact"
	"angles" "-58 278 0"
	"magnitude" "800"
	"spawnflags" "5"
	"targetname" "sky_exp_physimpact_03"
	"origin" "-2032 2942 291"
}
{
	"classname" "env_physimpact"
	"angles" "-45 265 0"
	"magnitude" "800"
	"spawnflags" "5"
	"targetname" "sky_exp_physimpact_08"
	"origin" "-2363 2651 293"
}
{
	"classname" "env_physimpact"
	"angles" "-50 295 0"
	"magnitude" "800"
	"spawnflags" "5"
	"targetname" "sky_exp_physimpact_06"
	"origin" "-2456 2446 292"
}
{
	"classname" "env_physimpact"
	"angles" "-45 270 0"
	"magnitude" "800"
	"spawnflags" "5"
	"targetname" "sky_exp_physimpact_07"
	"origin" "-2676 2516 292"
}
{
	"classname" "env_physimpact"
	"angles" "-45 277 0"
	"magnitude" "800"
	"spawnflags" "5"
	"targetname" "sky_exp_physimpact_02"
	"origin" "-2603 2624 292"
}
; --- filtro sobrevivente
{
	"targetname" "sky_filter_survs"
	"classname" "filter_activator_team"
	"filterteam" "2"
	"Negated" "0"
}
; --- comando console
{
	"classname" "point_servercommand"
	"targetname" "sky_servercommander"
}
; --- tremor da tela
{
	"targetname" "prevent_air_strike_lag"
	"classname" "env_shake"
}
; --- cabos e fios
{
	"classname" "env_spark"
	"Magnitude" "2"
	"spawnflags" "128"
	"targetname" "sky_exp_wiresparks_a"
	"TrailLength" "3"
	"origin" "-1579 2357 745"
}
{
	"classname" "env_spark"
	"Magnitude" "2"
	"MaxDelay" "0"
	"spawnflags" "128"
	"targetname" "sky_exp_wiresparks_a"
	"TrailLength" "3"
	"origin" "-1582 2379 745"
}
{
	"classname" "env_spark"
	"Magnitude" "2"
	"MaxDelay" "0"
	"spawnflags" "128"
	"targetname" "sky_exp_wiresparks_a"
	"TrailLength" "3"
	"origin" "-1580 2450 745"
}
{
	"classname" "env_spark"
	"Magnitude" "2"
	"MaxDelay" "0"
	"spawnflags" "128"
	"targetname" "sky_exp_wiresparks_a"
	"TrailLength" "3"
	"origin" "-1583 2473 745"
}
{
	"classname" "env_spark"
	"Magnitude" "2"
	"MaxDelay" "3"
	"spawnflags" "128"
	"targetname" "sky_exp_wiresparks_b"
	"TrailLength" "3"
	"origin" "-2828 2356 730"
}
{
	"classname" "env_spark"
	"Magnitude" "2"
	"MaxDelay" "3"
	"spawnflags" "128"
	"targetname" "sky_exp_wiresparks_b"
	"TrailLength" "3"
	"origin" "-2832 2379 730"
}
{
	"classname" "env_spark"
	"Magnitude" "2"
	"MaxDelay" "3"
	"spawnflags" "128"
	"targetname" "sky_exp_wiresparks_b"
	"TrailLength" "3"
	"origin" "-2828 2450 730"
}
{
	"classname" "env_spark"
	"Magnitude" "2"
	"MaxDelay" "3"
	"spawnflags" "128"
	"targetname" "sky_exp_wiresparks_b"
	"TrailLength" "3"
	"origin" "-2832 2472 730"
}
; --- particulas
{
	"classname" "info_particle_system"
	"effect_name" "gas_explosion_main"
	"targetname" "sky_exp_particles_01"
	"origin" "-2464 2504 294"
}
{
	"classname" "info_particle_system"
	"effect_name" "gas_explosion_main"
	"targetname" "sky_exp_particles_02"
	"origin" "-2053 2431 296"
}
{
	"classname" "info_particle_system"
	"effect_name" "gas_explosion_main"
	"targetname" "sky_exp_particles_03"
	"origin" "-1347 2534 326"
}

; =====================================================
; --- salas do evento da cola abertas
filter:

{
	"hammerid" "187311"
}
{
	"hammerid" "187324"
}

; =====================================================
; --- camera lenta ao explodir o caminhão no evento da cola
add:
{
	"classname" "func_timescale"
	"minBlendRate" "2"
	"desiredTimescale" "0.2"
	"blendDeltaMultiplier" "3.0"
	"acceleration" "0.05"
	"targetname" "slowmotion"
}
modify:
{
        match:
        {
		"hammerid" "1213806"
        }
        insert:
        {
		"OnTrigger" "slowmotion,Start,,1,-1"
		"OnTrigger" "slowmotion,Stop,,2.5,-1"
	}
}

; =====================================================
; --- escadas no trailer da ceda na passarela
modify:
{
	match:
	{
		;"model" "*208"
		"hammerid" "1448844"
	}
	replace:
	{
		"team" "0"
	}
}
add:
{
	"solid" "0"
	"origin" "-4273 2099 227"
	"angles" "360 0 180"
	"model"	 "models/props_equipment/metalladder002.mdl"
	"classname"	"prop_dynamic"
        "disableshadows" "1"

}
modify:
{
	match:
	{
		;"model" "*16"
		"hammerid" "136629"
	}
	replace:
	{
		"team" "0"
	}
}
add:
{
	"solid" "0"
	"origin" "-4405 2156 313"
	"angles" "351 359 0"
	"model"	 "models/props/de_train/ladderaluminium.mdl"
	"classname"	"prop_dynamic"
}

; =====================================================
; --- iluminação na saferoom final
add:
{
	"solid" "6"
	"origin" "-7457 -4687 577"
	"angles" "0 -90 0"
	"model"	 "models/props/cs_office/light_shop.mdl"
	"classname"	"prop_dynamic"
}
{
	"classname" "light_dynamic"
	"_light" "255 255 255 5000"
	"brightness" "1"
	"distance" "300"
	"spawnflags" "0"
	"origin" "-7457 -4687 567"
}

; ################  ITEM SPAWN CHANGES  ###############
; =====================================================
; ==           PILL / ITEM / WEAPON SPAWNS           ==
; ==   Remove or change pill, item & weapon spawns   ==
; =====================================================

; =====================================================
; ==                STATIC AMMO PILES                ==
; ==          Add or modify ammo pile spawns         ==
; =====================================================
add:
{
	"solid" "0"
	"origin" "-2227 833 0"
	"angles" "0 100 0"
	"model"	 "models/props/terror/ammo_stack.mdl"
	"classname" "weapon_ammo_spawn"
        "disableshadows" "1"
        "spawnflags" "2"
}
{
	"solid" "0"
	"origin" "-5083 1093 384"
	"angles" "0 -140 0"
	"model"	 "models/props/terror/ammo_stack.mdl"
	"classname" "weapon_ammo_spawn"
        "disableshadows" "1"
        "spawnflags" "2"
}
{
	"solid" "0"
	"origin" "-8145 -822 384"
	"angles" "0 -162 0"
	"model"	 "models/props/terror/ammo_stack.mdl"
	"classname" "weapon_ammo_spawn"
        "disableshadows" "1"
        "spawnflags" "2"
}
{
	"solid" "0"
	"origin" "-965 3487 320"
	"angles" "0 128 0"
	"model"	 "models/props/terror/ammo_stack.mdl"
	"classname" "weapon_ammo_spawn"
        "disableshadows" "1"
        "spawnflags" "2"
}
{
	"solid" "0"
	"origin" "-6348 -1533 475"
	"angles" "0 -174 0"
	"model"	 "models/props/terror/ammo_stack.mdl"
	"classname" "weapon_ammo_spawn"
        "disableshadows" "1"
        "spawnflags" "2"
}

; =====================================================
; ==                 HITTABLE CHANGES                ==
; ==           Add/remove/modify hittables           ==
; =====================================================


; #############  MAP CLIPPING AND ISSUES  #############
; =====================================================
; ==                 EXPLOITS BLOCKED                ==
; ==      Block intentionally performed exploits     ==
; =====================================================
add:
; --- Block survivors from standing on the truck at the start
{
	"classname" "env_physics_blocker"
	"origin" "1315 2486 1310"
	"mins" "-43 -44 -738"
	"maxs" "43 44 738"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "1160 2486 1388"
	"mins" "-112 -57 -660.5"
	"maxs" "112 57 660.5"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block climbing up the generator at the start
{
	"classname" "env_physics_blocker"
	"origin" "1533 2591 713"
	"mins" "-4 -5 -143"
	"maxs" "4 5 143"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block standing on the edge of the tent by the generator - Removed until angled clip bug is fixed (#34)
;{
;	"classname" "env_physics_blocker"
;	"origin" "1610 2682 1073"
;	"angles" "0 353.5 0"
;	"mins" "-3 -190.5 -399.5"
;	"maxs" "3 190.5 399.5"
;	"boxmins" "-3 -190.5 -399.5"
;	"boxmaxs" "3 190.5 399.5"
;	"initialstate" "1"
;	"BlockType" "1"
;}
; --- Block survivors from standing on the hedges on the first road
{
	"classname" "env_physics_blocker"
	"origin" "2656 3296 1376"
	"mins" "-416 -32 -672"
	"maxs" "416 32 672"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "2944 2752 1249"
	"mins" "-387.5 -24 -799.5"
	"maxs" "387.5 24 799.5"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "720 2752 1249"
	"mins" "-263.5 -24 -799.5"
	"maxs" "263.5 24 799.5"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-19 2752 1222"
	"mins" "-257.5 -24 -826"
	"maxs" "257.5 24 826"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-740 2752 1180"
	"mins" "-126.5 -24 -868"
	"maxs" "126.5 24 868"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block survivors from standing on the truck on the underpass
{
	"classname" "env_physics_blocker"
	"origin" "-2224 1155 737"
	"mins" "-44 -43 -738"
	"maxs" "44 43 738"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-2224 1000 815"
	"mins" "-57 -112 -660.5"
	"maxs" "57 112 660.5"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block survivors from standing on the electrical box after the green dumpster drop
{
	"classname" "env_physics_blocker"
	"origin" "-3296 2287 848"
	"mins" "-48 -17 -624"
	"maxs" "48 17 624"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block climbing up the generators before the walkway
{
	"classname" "env_physics_blocker"
	"origin" "-4996 1632 483"
	"mins" "-4.5 -7 -98"
	"maxs" "4.5 7 98"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block standing on the highway sign after the one way drop
{
	"classname" "env_physics_blocker"
	"origin" "-4170 1288 927"
	"angles" "0 255 0"
	"mins" "-25 -140.5 -545"
	"maxs" "25 140.5 545"
	"boxmins" "-25 -140.5 -545"
	"boxmaxs" "25 140.5 545"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block jumping on the fence on the street before the walkway
{
	"classname" "env_physics_blocker"
	"origin" "-5580 368 976"
	"mins" "-20 -56 -496"
	"maxs" "20 56 496"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Remove traffic barrel that can be used to skip the chokepoint before the walkway
filter:
{
	"hammerid" "1719887"
}
add:
; --- Block standing behind/on the fence on the first set of walkway stairs
{
	"classname" "env_physics_blocker"
	"origin" "-5331 821 724"
	"mins" "-131 -5 -108"
	"maxs" "131 5 108"
	"initialstate" "1"
	"BlockType" "1"
}
; --- Block climbing up the 2 generators at the end
{
	"classname" "env_physics_blocker"
	"origin" "-8683 -3991 525"
	"mins" "-6.5 -7 -143"
	"maxs" "6.5 7 143"
	"initialstate" "1"
	"BlockType" "1"
}
{
	"classname" "env_physics_blocker"
	"origin" "-7163 -4158 528"
	"mins" "-7 -5.5 -143"
	"maxs" "7 5.5 143"
	"initialstate" "1"
	"BlockType" "1"
}

; =====================================================
; ==                  OUT OF BOUNDS                  ==
; ==  Block players getting outside / under the map  ==
; =====================================================
add:
; --- Block players getting out of the map above the start saferoom
{
	"classname" "env_physics_blocker"
	"origin" "1792 7168 2096"
	"mins" "-2304 -1024 -208"
	"maxs" "2304 1024 208"
	"initialstate" "1"
	"BlockType" "0"
}
; --- Block infected going too far out of bounds at the back of the underpass street
{
	"classname" "env_physics_blocker"
	"origin" "-896 6176 896"
	"mins" "-896 -32 -576"
	"maxs" "896 32 576"
	"initialstate" "1"
	"BlockType" "2"
}

; =====================================================
; ==                   STUCK SPOTS                   ==
; ==  Prevent players from getting stuck in the map  ==
; =====================================================
add:
; --- Block getting stuck on top of the door barricade in the saferoom.
{
	"classname" "env_physics_blocker"
	"origin" "2224 5255 512"
	"mins" "-16 -57.5 -64.5"
	"maxs" "16 57.5 64.5"
	"initialstate" "1"
	"BlockType" "0"
}
; --- Prevent getting stuck on top of the photocopier in the saferoom
{
	"classname" "env_physics_blocker"
	"origin" "2543 5199 477"
	"mins" "-23 -17 -30"
	"maxs" "23 17 30"
	"initialstate" "1"
	"BlockType" "0"
}
; --- Prevent getting stuck on top of the photocopier in the Save 4 Less store
{
	"classname" "env_physics_blocker"
	"origin" "-6673 -2707 421"
	"mins" "-17 -24 -30"
	"maxs" "17 24 30"
	"initialstate" "1"
	"BlockType" "0"
}

; =====================================================
; ==                 NUISANCE CHANGES                ==
; ==      Clipping improvements, QOL map changes     ==
; =====================================================
add:
; --- Make trash bags solid at the start
{
	"classname" "prop_dynamic"
	"origin" "1976 4440 470"
	"angles" "3.99024 29.758 -6.93945"
	"model" "models/props_junk/trashcluster01b.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "1256 2554 578"
	"angles" "0.0 83.5 0.0"
	"model" "models/props_junk/trashcluster01b.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "1700 2880 578"
	"angles" "0.0 83.5 0.0"
	"model" "models/props_junk/trashcluster01b.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "1652 2510 582"
	"angles" "0.0 80 0.0"
	"model" "models/props_junk/trashcluster01b.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
; --- Make trash bags solid at the end
{
	"classname" "prop_dynamic"
	"origin" "-8384 -1818 391"
	"angles" "0.0 340 0.0"
	"model" "models/props_junk/trashcluster01b.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-9086 -1992 391"
	"angles" "0.0 88 0.0"
	"model" "models/props_junk/trashcluster01b.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-8012 -3600 395"
	"angles" "0.0 83.5 0.0"
	"model" "models/props_junk/trashcluster01b.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-8088 -3556 391"
	"angles" "0.0 173.5 0.0"
	"model" "models/props_junk/trashcluster01b.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-7760 -4560 391"
	"angles" "0.0 87.5 0.0"
	"model" "models/props_junk/trashcluster01b.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
{
	"classname" "prop_dynamic"
	"origin" "-7294 -4566 391"
	"angles" "0.0 87.5 0.0"
	"model" "models/props_junk/trashcluster01b.mdl"
	"solid" "6"
	"disableshadows" "1"
	"rendermode" "10"
}
; --- Highway sign by the CEDA van drop to show where the skybox blocks movement
{
	"classname" "prop_dynamic"
	"origin" "-4105 1996 383"
	"angles" "0 270 0"
	"model" "models/props_highway/highway_sign_post002.mdl"
	"solid" "6"
	"disableshadows" "1"
}
{
	"classname" "prop_dynamic"
	"origin" "-4105 2014 678"
	"angles" "0 90 0"
	"model" "models/props_highway/highway_sign001b.mdl"
	"solid" "6"
	"disableshadows" "1"
}
; --- Allow ghost SI to pass through the Save 4 Less doors before they are open
modify:
{
	match:
	{
		"targetname" "store_door01_dynamic"
		"classname" "prop_dynamic"
	}
	insert:
	{
		"solid" "0"
	}
}
modify:
{
	match:
	{
		"targetname" "store_door02_dynamic"
		"classname" "prop_dynamic"
	}
	insert:
	{
		"solid" "0"
	}
}
add:
; --- Improved clipping on car stops in the event area
{
	"classname" "env_physics_blocker"
	"origin" "-6266 -1171 407"
	"mins" "-8 -49.5 -4.6"
	"maxs" "8 49.5 4.6"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_physics_blocker"
	"origin" "-6268 -1354 397"
	"mins" "-6 -50 -4.6"
	"maxs" "6 50 4.6"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_physics_blocker"
	"origin" "-6266 -1682 388"
	"mins" "-5.5 -49.5 -4.6"
	"maxs" "5.5 49.5 4.6"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_physics_blocker"
	"origin" "-6263 -1828 397"
	"mins" "-5 -49.5 -4.6"
	"maxs" "5 49.5 4.6"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_physics_blocker"
	"origin" "-6055 -2098 423"
	"mins" "-4.5 -49.5 -4"
	"maxs" "4.5 49.5 4"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_physics_blocker"
	"origin" "-6055 -2232 427"
	"mins" "-4.5 -49.5 -5.5"
	"maxs" "4.5 49.5 5.5"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_physics_blocker"
	"origin" "-6056 -2376 431"
	"mins" "-5 -49.5 -3"
	"maxs" "5 49.5 3"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_physics_blocker"
	"origin" "-6053 -2522 429"
	"mins" "-5 -49.5 -3"
	"maxs" "5 49.5 3"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_physics_blocker"
	"origin" "-6058 -2654 425"
	"mins" "-5 -49.5 -5"
	"maxs" "5 49.5 5"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_physics_blocker"
	"origin" "-6057 -2789 420"
	"mins" "-5 -49.5 -4"
	"maxs" "5 49.5 4"
	"initialstate" "1"
	"BlockType" "0"
}
{
	"classname" "env_physics_blocker"
	"origin" "-6055 -2932 407"
	"angles" "0 0 8"
	"mins" "-5 -49 -4"
	"maxs" "5 49 4"
	"boxmins" "-5 -49 -4"
	"boxmaxs" "5 49 4"
	"initialstate" "1"
	"BlockType" "0"
}
; --- Block LOS under van by the stores
{
	"classname" "logic_auto"
	"OnMapSpawn" "los_save4less_van,AddOutput,mins -110 -1 -16,0,-1"
	"OnMapSpawn" "los_save4less_van,AddOutput,maxs 110 1 16,0,-1"
	"OnMapSpawn" "los_save4less_van,AddOutput,solid 2,0,-1"
}
{
	"classname" "func_brush"
	"origin" "-6356 -1539 396"
	"targetname" "los_save4less_van"
}
; --- Remove traffic barrel in the event area that block the police car
filter:
{
	"hammerid" "941213"
}
{
	"hammerid" "941217"
}
; --- Make traffic barrel by the exploding tanker movable
modify:
{
	match:
	{
		"hammerid" "841232"
	}
	replace:
	{
		"spawnflags" "260"
	}
}
; --- Fix a spot where cola can be thrown out of bounds
add:
{
	"classname" "script_clip_vphysics"
	"origin" "-5304 -2192 1108"
	"angles" "0 0 0"
	"extent" "24 16 364"
	"filtername" "cola_filter"
	"StartDisabled" "0"
}


; ###########  ADDITIONAL PROPS AND SPAWNS  ###########
; =====================================================
; ==                      PROPS                      ==
; ==       New props for balance and SI spawns       ==
; =====================================================

; =====================================================
; ==             LADDER / ELEVATOR NERF              ==
; ==   Nerf ladder & elevator attacks for infected   ==
; =====================================================


; ############  MAP SOUND AND GFX CHANGES  ############
; =====================================================
; ==                  SOUND REMOVAL                  ==
; ==    Remove or adjust sounds played by the map    ==
; =====================================================

; =====================================================
; ==             GFX / PARTICLES REMOVAL             ==
; ==        Remove visual effects from the map       ==
; =====================================================


; ###############  TRIGGERS AND BRUSHES  ##############
; =====================================================
; ==                   CLIP REMOVAL                  ==
; ==      Remove miscellaneous clips and brushes     ==
; =====================================================
; --- Remove TLS entities after loading
add:
{
	"classname" "logic_auto"
	; --- At the left end of the street by the starting saferoom
	"OnMapSpawn" "anv_mapfixes_yeswaycorner_clip,Kill,,30,-1"
	"OnMapSpawn" "anv_mapfixes_yeswaycorner_wrongway,Kill,,30,-1"
	"OnMapSpawn" "anv_mapfixes_yeswaycorner_wall,Kill,,30,-1"
	"OnMapSpawn" "anv_mapfixes_ladder_yeswaycornerouter_cloned_save4lessright,Kill,,30,-1"
	"OnMapSpawn" "anv_mapfixes_ladder_yeswaycornerinner_cloned_roundthehedge,Kill,,30,-1"
	; --- At the back of the underpass street by the white van
	"OnMapSpawn" "anv_mapfixes_clipgap_deadendfence,Kill,,30,-1"
	; --- Area above the underpass, by the billboard and bridge
	"OnMapSpawn" "anv_mapfixes_yeswayturnpike_clipa,Kill,,30,-1"
	"OnMapSpawn" "anv_mapfixes_yeswayturnpike_clipb,Kill,,30,-1"
	"OnMapSpawn" "anv_mapfixes_yeswayturnpike_wrongwaya,Kill,,30,-1"
	"OnMapSpawn" "anv_mapfixes_yeswayturnpike_wrongwayb,Kill,,30,-1"
	; --- Roof above the CEDA van drop
	"OnMapSpawn" "anv_mapfixes_yeswaychoke_clip,Kill,,30,-1"
	"OnMapSpawn" "anv_mapfixes_yeswaychoke_wrongwaya,Kill,,30,-1"
	"OnMapSpawn" "anv_mapfixes_yeswaychoke_wrongwayb,Kill,,30,-1"
	"OnMapSpawn" "anv_mapfixes_yeswaychoke_wrongwayc,Kill,,30,-1"
	; ---- On the roof right of the end saferoom
	"OnMapSpawn" "anv_mapfixes_sneaky_hunter,Kill,,30,-1"
}

; =====================================================
; ==              TRIGGER REMOVAL / FIX              ==
; ==    Fix triggers that interfere with gameplay    ==
; =====================================================
; --- Remove the ambush trigger before the walkway that makes the director only spawn chargers
; --- With the removal of the trigger that sets the director to it's pre-event state after the walkway, this remains on until the event starts
filter:
{
	"hammerid" "665506"
}


; #############  LADDER CHANGES AND FIXES  ############
; =====================================================
; ==             LADDER ADDITIONS / FIXES            ==
; ==              Add or change ladders              ==
; =====================================================

; #######  MISCELLANEOUS / MAP SPECIFIC CHANGES  ######
; =====================================================
; ==                   BLANK HEADER                  ==
; ==                Blank description                ==
; =====================================================